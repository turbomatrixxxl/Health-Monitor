"use strict";(self.webpackChunkhealth_monitor=self.webpackChunkhealth_monitor||[]).push([[292],{379:(e,t,i)=>{function n(e,t,i,n,a,s){const l=Number(String(e).trim()),c=Number(String(t).trim()),o=Number(String(n).trim()),r=Number(String(a).trim()),d=String(i||"").trim().toUpperCase(),v=String(s||"").trim().toUpperCase();if([l,c,o,r].some(Number.isNaN))return 0;let h=l%12;"PM"===d&&(h+=12);let g=o%12;"PM"===v&&(g+=12);let m=60*g+r-(60*h+c);m<0&&(m+=1440);return parseFloat((m/60).toFixed(1))}i.d(t,{A:()=>n})},856:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(379);function a(e,t){const i=new Date,a=i.getDay(),s=0===a?-6:1-a,l=new Date(i);l.setDate(i.getDate()+s),console.log("date.getDate() :",i.getDate()),l.setHours(0,0,0,0),console.log("startOfTheWeek :",l);const c=[];for(let r=0;r<7;r++){const i=new Date(l);i.setDate(l.getDate()+r),console.log("currentDay:",i),console.log("startOfTheWeek.getDate() :",l.getDate()),console.log("currentDay.toDateString() :",i.toDateString());const a=e.find(e=>new Date(e.date).toDateString()===i.toDateString());if("steps"===t){const e=a?null===a||void 0===a?void 0:a.interval.reduce((e,t)=>e+t.steps,0):0;c.push({day:i.toLocaleDateString("en-US",{weekday:"short"}),total:e})}else{var o;const e=a?null===a||void 0===a||null===(o=a.interval)||void 0===o?void 0:o.reduce((e,t)=>e+=(0,n.A)(t.fromHour,t.fromMinute,t.fromAmPm,t.tillHour,t.tillMinute,t.tillAmPm),0):0;c.push({day:i.toLocaleDateString("en-US",{weekday:"short"}),total:e})}}return c}},1648:(e,t,i)=>{i.d(t,{A:()=>g});i(5043);var n=i(108),a=i(1474),s=i(7734),l=i(2185),c=i(6026),o=i(3670),r=i(1175),d=i(7869);const v="WeeklyChart_barChart__AHVA8";var h=i(579);const g=function(e){let{weeklyData:t,type:i,target:g}=e;return(0,h.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,h.jsx)(n.u,{width:"100%",children:(0,h.jsxs)(a.E,{data:t,margin:{top:15,right:15,left:"steps"===i?-10:-25,bottom:5},className:v,children:[(0,h.jsx)(s.d,{strokeDasharray:"3 3"}),(0,h.jsx)(l.W,{dataKey:"day"}),(0,h.jsx)(c.h,{}),(0,h.jsx)(o.m,{contentStyle:{color:"var(--brand-color)",fontWeight:"700"}}),(0,h.jsx)(r.y,{dataKey:"total",radius:[6,6,0,0],children:t.map((e,t)=>{const n="sleep"===i&&(e.total<.6*g||e.total>g+1)||"steps"===i&&e.total<.6*g?"red":"steps"===i&&e.total>=.6*g&&"steps"===i&&e.total<=.8*g?"var(--brand-color)":"#4cafef";return(0,h.jsx)(d.f,{fill:n},"cell-".concat(t))})})]})})})}},5292:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var n=i(9379),a=i(5043),s=i(3216),l=i(9095),c=i(8266),o=i(2952);function r(e,t,i,n,a,s){if(!e)return"please input your exercise type";if(!i||!n||!a)return 0;const l=Number(t)||0;let c=.0175*({football:8,tennis:7.3,basketball:6.5,gym:5,fitness:6,cycling:6,running:9.8,jogging:7,swimming:8,hockey:7,rugby:8,volley:5,yoga:3,walking:3.5,dancing:5.5,skiing:7,snowboarding:6.8,surfing:5,boxing:7.8,climbing:8}[e.toLowerCase()]||4)*n;"min"===s?c*=.8:"max"===s&&(c*=1.2);const o=c*l*(i<30?1.1:i<50?1:.9);return Math.round(25*o)}var d=i(9283),v=i(8387),h=i(3538);const g="ActivitySelect_selector__ZJWTA",m="ActivitySelect_button__GMBQU",u="ActivitySelect_span__kC5Bd",p="ActivitySelect_spanDark__-UfcE",y="ActivitySelect_svg__fg-DH",_="ActivitySelect_svgDark__RiTlv",x="ActivitySelect_options__tQAam",f="ActivitySelect_optionsDark__zrVLA",A="ActivitySelect_optionsViolet__3fpmK",S="ActivitySelect_option__fHjzJ",P="ActivitySelect_optionDark__PpHpC",j="ActivitySelect_activeOption__p+L7e",N="ActivitySelect_activeOptionViolet__vg8ap";var C=i(579);const b=["football","tennis","basketball","gym","fitness","cycling","running","jogging","swimming","hockey","rugby","volley","yoga","walking","dancing","skiing","snowboarding","surfing","boxing","climbing","other"];const D=function(e){let{theme:t,value:i,onChange:n}=e;const[s,l]=(0,a.useState)(!1),c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{const e=e=>{c.current&&!c.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,C.jsxs)("div",{className:g,ref:c,children:[(0,C.jsxs)("button",{className:m,onClick:()=>l(e=>!e),children:[(0,C.jsx)("span",{className:(0,v.A)(u,"dark"===t||"violet"===t?p:u),children:i.charAt(0).toUpperCase()+i.slice(1)}),s?(0,C.jsx)(h.gNC,{className:(0,v.A)(y,"dark"===t||"violet"===t?_:y)}):(0,C.jsx)(h.bv7,{className:(0,v.A)(y,"dark"===t||"violet"===t?_:y)})]}),s&&(0,C.jsx)("ul",{className:(0,v.A)(x,"dark"===t?f:x,"violet"===t?A:x),children:b.map(e=>(0,C.jsx)("li",{className:(0,v.A)(S,"dark"===t?P:S,e===i&&("violet"===t?N:j)),onClick:()=>(n(e),void l(!1)),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})},w={cont:"PsyhicalActivityPage_cont__ekuRl",leftSideCont:"PsyhicalActivityPage_leftSideCont__jrCmT",rightSideCont:"PsyhicalActivityPage_rightSideCont__8zjDj",rightSideUpCont:"PsyhicalActivityPage_rightSideUpCont__rw3Zv",title:"PsyhicalActivityPage_title__4rJnJ",graphCont:"PsyhicalActivityPage_graphCont__xeaV6",rightSideContTitle:"PsyhicalActivityPage_rightSideContTitle__hIexH",rightSideDate:"PsyhicalActivityPage_rightSideDate__DxwxO",dateWrapper:"PsyhicalActivityPage_dateWrapper__G+IhJ",paramInput:"PsyhicalActivityPage_paramInput__1LpJm",fromToCont:"PsyhicalActivityPage_fromToCont__XYjNb",fromToTitle:"PsyhicalActivityPage_fromToTitle__lQxpq",fromExercise:"PsyhicalActivityPage_fromExercise__NMQmA",from:"PsyhicalActivityPage_from__ngOis",rem:"PsyhicalActivityPage_rem__prLsZ",lineRowCont:"PsyhicalActivityPage_lineRowCont__AvVL4",lineRow:"PsyhicalActivityPage_lineRow__xs+87",activitySelect:"PsyhicalActivityPage_activitySelect__dy5Y+",minutes:"PsyhicalActivityPage_minutes__BwmUC",minMax:"PsyhicalActivityPage_minMax__g65Li",timeInput:"PsyhicalActivityPage_timeInput__hrNzA",removeBtn:"PsyhicalActivityPage_removeBtn__3kjpN",dash:"PsyhicalActivityPage_dash__ZotMg",twoDots:"PsyhicalActivityPage_twoDots__5hAHi",ampmSelect:"PsyhicalActivityPage_ampmSelect__gdw+x",addSleepCont:"PsyhicalActivityPage_addSleepCont__ADZwY",addBtn:"PsyhicalActivityPage_addBtn__dPfpi",saveBtn:"PsyhicalActivityPage_saveBtn__u+nWb",adviceCont:"PsyhicalActivityPage_adviceCont__D7BTL",navBtn:"PsyhicalActivityPage_navBtn__hUp5q"};var k=i(856),T=i(9686),M=i(1648);const B=function(){var e,t,i,h;const g=(0,s.Zp)(),{user:m,privateDispatch:u}=(0,l.d)(),p=null!==(e=null===m||void 0===m?void 0:m.age)&&void 0!==e?e:0,y=null!==(t=null===m||void 0===m?void 0:m.height)&&void 0!==t?t:0,_=null!==(i=null===m||void 0===m?void 0:m.weight)&&void 0!==i?i:0,x=null!==(h=null===m||void 0===m?void 0:m.desiredWeight)&&void 0!==h?h:0,f=(0,a.useMemo)(()=>(null===m||void 0===m?void 0:m.steps)||[],[null===m||void 0===m?void 0:m.steps]),A=function(e,t,i,n){if(!e||!t||!i||!n)return 0;const a=t/100;let s=30;s*=e<30?1:e<50?1.1:1.2;const l=i/(a*a)-n/(a*a);let c=1;l>.5?c=1+Math.min(l/5,1):l<-.5&&(c=.8);const o=s*c;return Math.round(o)}(p,y,_,x),[S,P]=(0,a.useState)((new Date).toISOString().split("T")[0]),j=(0,a.useMemo)(()=>new Date,[]),N="".concat(j.getFullYear(),"-").concat(String(j.getMonth()+1).padStart(2,"0"),"-").concat(String(j.getDate()).padStart(2,"0")),b=S===N,B=(0,a.useMemo)(()=>f.length>0?[...f]:[{date:j,interval:[{exerciseType:"walking",minutes:"00",intensity:"min",steps:0}]}],[f,j]),W=f.find(e=>new Date(e.date).toISOString().split("T")[0]===S),[I,U]=(0,a.useState)([{date:j,interval:[{exerciseType:"walking",minutes:"00",intensity:"min",steps:0}]}]);(0,a.useEffect)(()=>{if(W){const e=[...W.interval];U(e)}},[W]),(0,a.useEffect)(()=>{const e=B.find(e=>new Date(e.date).toISOString().split("T")[0]===S);if(e){const t=[...e.interval];U(t)}else U([{exerciseType:"walking",minutes:"00",intensity:"min",steps:0}])},[S,B,j,f]);const E=I.reduce((e,t)=>e+(Number(t.steps)||0),0);(0,a.useEffect)(()=>{u((0,c._D)(E))},[u,E]);const L=I[I.length-1],R=0===Number(String(L.minutes).trim()),O=(e,t,i)=>{const a=I.map((a,s)=>s===e?(0,n.A)((0,n.A)({},a),{},{[t]:i,steps:r("exerciseType"===t?i:a.exerciseType,"minutes"===t?Math.max(0,parseInt(i,10)||0):parseInt(a.minutes,10)||0,p,_,y,"intensity"===t?i:a.intensity)}):(0,n.A)({},a));U(a)},H=(0,k.A)(f,"steps"),J=(0,T.A)(p,_,x,y);return(0,C.jsxs)("div",{className:w.cont,children:[(0,C.jsxs)("div",{className:w.leftSideCont,children:[(0,C.jsxs)("div",{className:w.rightSideUpCont,children:[(0,C.jsx)("h1",{className:w.title,children:"Physical Activity"}),(0,C.jsxs)("div",{className:w.graphCont,children:[" ",(0,C.jsx)(M.A,{target:J,weeklyData:H,type:"steps"})]})]}),(0,C.jsxs)("div",{className:w.adviceCont,children:[(0,C.jsx)("h2",{className:w.adviceTitle,children:"Total converted Exercises in steps"}),0!==E?(0,C.jsxs)("p",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:E<.6*E?"red":void 0},className:w.advicep,children:[(0,C.jsxs)("span",{style:{marginRight:"2px"},children:["Total Steps for"," ",b?"today":(0,d.A)(S),":"," "]})," ",(0,C.jsxs)("span",{children:[E," steps"]})]}):(0,C.jsxs)("p",{style:{color:"red"},className:w.advicep,children:["No Physical Activities records for"," ",b?"today":(0,d.A)(S)]})]})]}),(0,C.jsxs)("div",{className:w.rightSideCont,children:[(0,C.jsxs)("div",{className:w.rightSideUpCont,children:[(0,C.jsx)("h1",{className:w.title,children:"Add exercise activities"}),(0,C.jsxs)("div",{className:w.rightSideDate,children:[(0,C.jsx)("div",{className:w.dateWrapper,children:(0,C.jsx)("input",{max:N,type:"date",value:null!==S&&void 0!==S?S:N,onChange:e=>P(e.target.value),className:w.paramInput})}),(0,C.jsx)("p",{className:w.rightSideDateP,children:"Choose date"})]}),(0,C.jsxs)("div",{className:w.fromToCont,children:[(0,C.jsxs)("div",{className:w.fromToTitle,children:[(0,C.jsx)("p",{className:w.fromExercise,children:"Exercise Type"}),(0,C.jsx)("p",{className:w.from,children:"Minutes"}),(0,C.jsx)("p",{className:w.from,children:"Intensity"}),(0,C.jsx)("p",{className:w.rem,children:I.length>1?"Delete":"Reset"})]}),(0,C.jsx)("div",{className:w.lineRowCont,children:I.map((e,t)=>{var i,n;return(0,C.jsxs)("div",{className:w.lineRow,children:[(0,C.jsx)(D,{value:null!==(i=null===e||void 0===e?void 0:e.exerciseType)&&void 0!==i?i:"walking",onChange:e=>O(t,"exerciseType",e),theme:"light"}),(0,C.jsx)("div",{className:w.minutes,children:(0,C.jsx)("input",{type:"number",min:"0",step:"1",value:(n=null===e||void 0===e?void 0:e.minutes,String(n).replace(/^0+(?=\d)/,"")),onChange:e=>O(t,"minutes",e.target.value.replace(/^0+(?=\d)/,"")||"0"),className:(0,v.A)(w.timeInput)})}),(0,C.jsx)("div",{className:w.minMax,children:(0,C.jsxs)("select",{style:"min"===(null===e||void 0===e?void 0:e.intensity)?{color:"green",fontWeight:"bold"}:{color:"var(--brand-color)",fontWeight:"bold"},value:null===e||void 0===e?void 0:e.intensity,onChange:e=>O(t,"intensity",e.target.value),className:w.ampmSelect,children:[(0,C.jsx)("option",{style:{color:"green",fontWeight:"bold"},value:"min",children:"Min"}),(0,C.jsx)("option",{style:{color:"var(--brand-color)",fontWeight:"bold"},value:"max",children:"Max"})]})}),I.length>1?(0,C.jsx)("button",{type:"button",onClick:()=>(e=>{const t=I.filter((t,i)=>i!==e);U(t)})(t),className:w.removeBtn,children:"\u2715"}):(0,C.jsx)("button",{type:"button",onClick:()=>{U([{exerciseType:"walking",date:S,minutes:"00",intensity:"min",steps:0}])},className:w.removeBtn,children:"\u2715"})]},"physical-".concat(t))})})]}),(0,C.jsxs)("div",{className:w.addSleepCont,children:[(0,C.jsx)("p",{children:"Add exercise"}),(0,C.jsx)("button",{onClick:()=>{!R&&(()=>{const e=[...I]||[];e.push({exerciseType:"walking",minutes:"00",intensity:"min",steps:0}),U(e)})()},type:"button",className:w.addBtn,children:"Add +"}),(1===I.length&&!R||I.length>1)&&(0,C.jsx)("button",{onClick:function(){const e=I.length-1,t=R?I.filter((t,i)=>i!==e):[...I];u((0,o.I4)({date:S,interval:t}))},type:"button",className:w.saveBtn,children:"Save"})]})]}),(0,C.jsxs)("div",{className:w.adviceCont,children:[(0,C.jsx)("h2",{className:w.adviceTitle,children:"Suggestions"}),0!==A?(0,C.jsxs)("p",{className:w.advicep,children:["Try to get at least ",A," minutes of activity everyday."]}):(0,C.jsxs)("p",{style:{color:"red",background:"var(--Gray5)",textAlign:"left",flexWrap:"wrap",gap:"3px",justifyContent:"flex-start",height:"fit-content"},className:w.advicep,children:["Personal info missing. Please click",(0,C.jsx)("button",{className:w.navBtn,onClick:()=>g("/"),type:"button",children:"Diet Calculator"})," ","to update !"]})]})]})]})}},9283:(e,t,i)=>{function n(e){const[t,i,n]=e.split("-").map(Number),a=["Su","Mo","Tu","We","Th","Fr","Sa"][new Date(t,i-1,n).getDay()],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i-1];return"".concat(a,"-").concat(String(n).padStart(2,"0"),"-").concat(s,"-").concat(t)}i.d(t,{A:()=>n})},9686:(e,t,i)=>{function n(e,t,i,n){let a;a=e<30?1.2:e<50?1.1:1;let s,l=6e3+20*(n-150),c=i-t;s=0===c?0:c<0?200*Math.abs(c):150*-c;let o=Math.round((l+s)*a);return o<4e3&&(o=4e3),o>15e3&&(o=15e3),o}i.d(t,{A:()=>n})}}]);
//# sourceMappingURL=292.a49700cf.chunk.js.map