"use strict";(self.webpackChunkhealth_monitor=self.webpackChunkhealth_monitor||[]).push([[948],{928:(e,t,a)=>{a.d(t,{A:()=>S});var s=a(5043),i=a(9657),o=a(2948),l=a(6752),r=a(6276),n=a(9095);const d="LoginStatistics_resultsCont__bSZ00",c="LoginStatistics_statisticCont__W4sUJ",u="LoginStatistics_resultsToday__5XOvn",m="LoginStatistics_statisticList__-K1dG",h="LoginStatistics_statisticListItem__jwFY5",_="LoginStatistics_statisticListItemSpan__5hv5z",p="LoginStatistics_notRecommendedCont__AujTB",g="LoginStatistics_notRecommendedTitle__xTGyK",x="LoginStatistics_notRecommendedList__H-Mel",y="LoginStatistics_notRecommendedEmpty__2+pc3",j="LoginStatistics_statisticSuperCont__yyZZY",v="LoginStatistics_notRecommendedListItem__0vXlq";var C=a(579);const N="(min-width:1024px)";const S=function(e){var t,a;let{day:S}=e;const f=(0,i.Ub)({query:N}),{user:P}=(0,r.A)(),{dailyCalorieSummary:L}=(0,n.d)(),[b,A]=(0,s.useState)(!1);return/^\d{2}.\d{2}.\d{4}$/.test(S)||console.error("Invalid date format: ".concat(S,". Expected dd.mm.yyyy.")),(0,C.jsxs)("div",{className:d,children:[b&&(0,C.jsx)(o.A,{theme:"light",onClose:()=>A(!1)}),f&&(0,C.jsx)(l.A,{handleUpdateUserClick:()=>{A(!0),console.log("click !!!")}}),(0,C.jsxs)("div",{className:j,children:[(0,C.jsxs)("div",{className:c,children:[(0,C.jsxs)("p",{className:u,children:["Summary for ",S]}),(0,C.jsxs)("ul",{className:m,children:[(0,C.jsxs)("li",{className:h,children:[(0,C.jsx)("span",{className:_,children:"Left"}),(0,C.jsxs)("span",{className:_,children:[0!==(null===L||void 0===L?void 0:L.remainingCalories)?L.remainingCalories:"000"," ","kcal"]})]},"left"),(0,C.jsxs)("li",{className:h,children:[(0,C.jsx)("span",{className:_,children:"Consumed"}),(0,C.jsxs)("span",{className:_,children:[(null===L||void 0===L?void 0:L.totalCaloriesConsumed)>0?L.totalCaloriesConsumed:"000"," ","kcal"]})]},"consumed"),(0,C.jsxs)("li",{className:h,children:[(0,C.jsx)("span",{className:_,children:"Daily rate"}),(0,C.jsxs)("span",{className:_,children:[(null===L||void 0===L?void 0:L.dailyCalorieIntake)>0?L.dailyCalorieIntake:"000"," ","kcal"]})," "]},"daily"),(0,C.jsxs)("li",{className:h,children:[(0,C.jsx)("span",{className:_,children:"n% of normal"}),(0,C.jsxs)("span",{className:_,children:[(null===L||void 0===L?void 0:L.percentageCaloriesConsumed)>0?L.percentageCaloriesConsumed:"0"," ","%"]})," "]},"normal")]})]}),(0,C.jsxs)("div",{className:p,children:[(0,C.jsx)("p",{className:g,children:"Food not recommended"}),(null===P||void 0===P||null===(t=P.dietaryInfo)||void 0===t||null===(a=t.restrictedAliments)||void 0===a?void 0:a.length)>0?(0,C.jsx)("ul",{className:x,children:P.dietaryInfo.restrictedAliments.map(e=>(0,C.jsx)("li",{className:v,children:e.title},null===e||void 0===e?void 0:e._id))}):(0,C.jsx)("p",{className:y,children:"Your diet will be displayed here"})]})]})]})}},1948:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(5043),i=a(9657),o=a(5756),l=a(2952),r=a(9759),n=a(9095),d=a(928),c=a(1968),u=a(5141),m=a(5200);const h="DiaryAddForm_inputsContainer__MnraY",_="DiaryAddForm_input__z2hq8",p="DiaryAddForm_name__ocIyW",g="DiaryAddForm_quantity__s0RLX";var x=a(8838),y=a(8387),j=a(579);const v="(max-width: 767px)";const C=function(e){let{searchTerm:t,setSearchTerm:a,filteredProducts:l,quantity:n,setQuantity:d,handleAddProduct:c,handleProductsForSelectedDate:u,date:m}=e;const C=(0,i.Ub)({query:v}),{dispatch:N}=(0,r.x)();return(0,s.useEffect)(()=>{N((0,o.j0)())},[N]),(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("input",{className:(0,y.A)(_,p),type:"text",value:t,onChange:e=>a(e.target.value),list:"productList",placeholder:"Search product name *"}),(0,j.jsx)("datalist",{id:"productList",children:l.map(e=>(0,j.jsxs)("option",{value:e.title,children:[" ",e.title]},e._id))}),(0,j.jsx)("input",{className:(0,y.A)(_,g),type:"number",value:n,onChange:e=>d(e.target.value),placeholder:"Grams *",step:50}),!C&&(0,j.jsx)(x.A,{variant:"plusButton",handleClick:()=>{c(),u(m)},disabled:!m||!t||!n,children:"+"})]})};var N=a(1870),S=a(3003),f=a(3216),P=a(5340),L=a(2923),b=a(6752),A=a(2948);const D={closeButton:"DiaryPage_closeButton__8Wsmh",closeModal:"DiaryPage_closeModal__ukIqj",mobileHeaderCont:"DiaryPage_mobileHeaderCont__a7iJL",modalHeader:"DiaryPage_modalHeader__dhYqf",logoHeaderContainer:"DiaryPage_logoHeaderContainer__2c1f2",mobileSubHeaderCont:"DiaryPage_mobileSubHeaderCont__F4J6z",modalLogoutActionCenter:"DiaryPage_modalLogoutActionCenter__+SKlj",modalUserLogoutCont:"DiaryPage_modalUserLogoutCont__cr6RX",section:"DiaryPage_section__oJsWR",calculatorCont:"DiaryPage_calculatorCont__Y2AJw",diaryPage:"DiaryPage_diaryPage__pKsQy",datePicker:"DiaryPage_datePicker__-j9YO",icon:"DiaryPage_icon__fwz+6",productList:"DiaryPage_productList__6fCMg",productRow:"DiaryPage_productRow__OcvNk",right:"DiaryPage_right__K-opd",name:"DiaryPage_name__+-5vy",errorMessage:"DiaryPage_errorMessage__BqUBO",quantity:"DiaryPage_quantity__41yoN",calories:"DiaryPage_calories__i54n4",delete:"DiaryPage_delete__pdpiB",noProducts:"DiaryPage_noProducts__53aBB",plusButton:"DiaryPage_plusButton__StqeW",leftCont:"DiaryPage_leftCont__yMOEt"},k={mobile:"(max-width: 767px)",tablet:"(min-width:768px)",desktop:"(min-width:1024px)"};function w(){const e=(0,i.Ub)({query:k.mobile}),t=(0,i.Ub)({query:k.desktop}),a=(0,f.Zp)(),h=(0,S.wA)(),{products:_,dispatch:p}=(0,r.x)(),{privateDispatch:g,error:y,consumedProducts:v}=(0,n.d)(),[w,q]=(0,P.A)(!1);(0,s.useEffect)(()=>{w?document.body.classList.add(D.noScroll):document.body.classList.remove(D.noScroll);const e=e=>{"Escape"===e.key&&q()};return document.addEventListener("keydown",e),()=>{document.body.classList.remove(D.noScroll),document.removeEventListener("keydown",e)}},[w,q]),(0,s.useEffect)(()=>{if("Not authorized"===y){const e=setTimeout(()=>{h((0,N.je)()),a("/login")},5e3);return()=>clearTimeout(e)}},[y,h,a]);const B=(new Date).toISOString().split("T")[0],[I,M]=(0,s.useState)(B),[T,H]=(0,s.useState)(""),[U,E]=(0,s.useState)(""),[Y,F]=(0,s.useState)(!1);(0,s.useEffect)(()=>{0===_.length&&p((0,o.j0)())},[p,_]),(0,s.useEffect)(()=>{g((0,l.Ys)({date:I}))},[g,I]);const R=Array.isArray(_.data)?_.data.flat():[],W=R.filter(e=>e.title.toLowerCase().includes(T.toLowerCase())),O=()=>{T&&U&&(g((0,l.G$)({product:T,date:I,quantity:U})),H(""),E(""))};function z(e){setTimeout(()=>{g((0,l.Ys)({date:e}))},1e3)}return(0,j.jsxs)("section",{className:D.section,children:[w&&e&&(0,j.jsx)("div",{className:D.modalOverlay,children:(0,j.jsx)("div",{className:D.modalContent,children:(0,j.jsxs)(L.A,{closeButton:D.closeButton,handleModalClose:q,isModalVisible:w,children:[e&&(0,j.jsxs)("div",{className:D.mobileHeaderCont,children:[Y&&(0,j.jsx)(A.A,{theme:"light",onClose:()=>F(!1)}),(0,j.jsxs)("header",{className:D.modalHeader,children:[(0,j.jsx)(c.A,{className:D.logoHeaderContainer}),(0,j.jsx)(u.A,{})]}),(0,j.jsxs)("div",{className:D.mobileSubHeaderCont,children:[(0,j.jsx)("button",{onClick:q,className:D.mobileHeaderExitButton,children:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"9",viewBox:"0 0 15 9",fill:"none",children:(0,j.jsx)("path",{d:"M14 1.5V4.5H2M2 4.5L5.5 1M2 4.5L5.5 8",stroke:"black",strokeWidth:"2"})})}),(0,j.jsx)("div",{className:D.modalUserLogoutCont,children:(0,j.jsx)(b.A,{handleUpdateUserClick:()=>{F(!0),console.log("click !!!")}})})]})]}),(0,j.jsxs)("div",{className:D.modalLogoutActionCenter,children:[(0,j.jsx)(C,{searchTerm:T,setSearchTerm:H,filteredProducts:W,quantity:U,setQuantity:E,handleAddProduct:O,handleProductsForSelectedDate:z,date:I}),(0,j.jsx)(x.A,{id:"closeModal",handleClick:()=>{q(),O(),z(I)},children:"Add"})]})]})})}),(0,j.jsxs)("div",{className:D.calculatorCont,children:[t&&(0,j.jsxs)("div",{className:D.leftCont,children:[(0,j.jsx)(c.A,{}),(0,j.jsx)(u.A,{})]}),y&&(0,j.jsx)("div",{className:D.errorMessage,children:"Not authorized"===y?(0,j.jsx)("div",{className:D.errorMessage,children:(0,j.jsx)("p",{children:"For reasons of personal data security Your authorisation has expired ! We will shortly redirect You to your login page. If you want to continue Please Login again ! Thank You for understanding !"})}):y}),(0,j.jsxs)("div",{className:D.diaryPage,children:[(0,j.jsxs)("div",{className:D.datePicker,children:[(0,j.jsx)("input",{type:"date",value:I,onChange:e=>M(e.target.value),placeholder:"Select Date",max:(new Date).toISOString().split("T")[0],className:"custom-date-picker"}),(0,j.jsx)(m.wIk,{className:D.icon})]}),!e&&(0,j.jsx)(C,{searchTerm:T,setSearchTerm:H,filteredProducts:W,quantity:U,setQuantity:E,handleAddProduct:O,handleProductsForSelectedDate:z,date:I}),(0,j.jsx)("ul",{className:D.productList,children:v.length>0?v.map((e,t)=>(0,j.jsxs)("li",{className:D.productRow,children:[(0,j.jsx)("span",{className:D.name,children:null!==e&&void 0!==e&&e.productName?null===e||void 0===e?void 0:e.productName:e.product}),(0,j.jsxs)("div",{className:D.right,children:[(0,j.jsxs)("span",{className:D.quantity,children:[e.quantity,"g"]}),(0,j.jsxs)("span",{className:D.calories,children:[e.calories,"kcal"]}),(0,j.jsx)("button",{className:D.delete,onClick:()=>{((e,t)=>{const a=(e=>{const t=R.find(t=>t.title===e);return t?t._id:null})(e);g((0,l.KQ)({productId:a,date:t})),z(t)})(e.product,I)},children:"X"})]})]},t)):(0,j.jsx)("p",{className:D.noProducts,children:"There are no products consumed on the selected date !"})}),e&&(0,j.jsx)(x.A,{handleClick:function(){q()},className:D.plusButton,variant:"plusButton",children:"+"})]})]}),(0,j.jsx)(d.A,{day:function(e){const[t,a,s]=e.split("-");return"".concat(s,".").concat(a,".").concat(t)}(I)})]})}},9759:(e,t,a)=>{a.d(t,{x:()=>c});var s=a(3003);const i=(0,a(2099).Mz)([e=>e.publicCalculatorSlice],e=>({height:e.height,age:e.age,currentWeight:e.currentWeight,desiredWeight:e.desiredWeight,bloodGroupIndex:e.bloodGroupIndex})),o=e=>e.publicCalculatorSlice.result,l=e=>e.publicCalculatorSlice.loading,r=e=>e.publicCalculatorSlice.error,n=e=>e.publicCalculatorSlice.products,d=e=>e.publicCalculatorSlice.product,c=()=>{const e=(0,s.wA)();return{formData:(0,s.d4)(i),isLoading:(0,s.d4)(l),errorPublic:(0,s.d4)(r),result:(0,s.d4)(o),products:(0,s.d4)(n),product:(0,s.d4)(d),dispatch:e}}}}]);
//# sourceMappingURL=948.b116156e.chunk.js.map