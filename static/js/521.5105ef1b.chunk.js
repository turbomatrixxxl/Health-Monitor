"use strict";(self.webpackChunkhealth_monitor=self.webpackChunkhealth_monitor||[]).push([[521],{1695:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(9379),l=a(5043),r=a(5475);a(3656);var i=a(5582),s=a(3797),d=a.n(s);const c="AlertForm_formModalCont__n1AHS",o="AlertForm_form__WOPSZ",u="AlertForm_close__6XhrF",m="AlertForm_inputGroup__C-9ve",p="AlertForm_weekly__FbPlI",y="AlertForm_checkboxLabel__V4eiP",h="AlertForm_smallBtn__YJ5YK",_="AlertForm_buttonGroup__C9g8J",x="AlertForm_saveBtn__nemPP",v="AlertForm_cancelBtn__+GW3d";var f=a(579);const g=["Mo","Tu","We","Th","Fr","Sa","Su"],j=new Date,A="".concat(j.getFullYear(),"-").concat(String(j.getMonth()+1).padStart(2,"0"),"-").concat(String(j.getDate()).padStart(2,"0"));function b(e){let{onClose:t,handleSubmit:a,data:n,handleSet:r,editId:i}=e;const s=(0,l.useRef)(),[d,j]=(0,l.useState)(A);(0,l.useEffect)(()=>{document.body.style.overflow="hidden";const e=e=>{"Escape"===e.key&&t()};return document.addEventListener("keydown",e),()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",e)}});const[b,k]=(0,l.useState)("daily"===n.frequency?"daily":n.frequency.includes("monthly")?"monthly":n.frequency.match(/^\d{4}-\d{2}-\d{2}$/)?"date":"weekly"),q="alert"===n.type;return(0,f.jsx)("div",{ref:s,onClick:e=>{e.currentTarget===e.target&&t()},className:c,children:(0,f.jsxs)("form",{className:o,onSubmit:a,children:[(0,f.jsx)("button",{className:u,onClick:t,type:"button",children:"x"}),q&&(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{children:"Reminder Text"}),(0,f.jsx)("input",{type:"text",placeholder:"Enter reminder",value:n.text,onChange:e=>r("text",e.target.value),required:!0})]}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{children:"Time"}),(0,f.jsx)("input",{type:"time",value:n.time,onChange:e=>r("time",e.target.value),required:!0})]}),q&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{children:"Frequency"}),(0,f.jsxs)("select",{value:b,onChange:e=>{k(e.target.value),"daily"===e.target.value&&r("frequency","daily")},children:[(0,f.jsx)("option",{value:"daily",children:"Daily"}),(0,f.jsx)("option",{value:"weekly",children:"Weekly (choose days)"}),(0,f.jsx)("option",{value:"monthly",children:"Monthly (choose day)"}),(0,f.jsx)("option",{value:"date",children:"Specific Date"})]})]}),"weekly"===b&&(0,f.jsxs)("div",{className:p,children:[g.map(e=>(0,f.jsxs)("label",{className:y,children:[(0,f.jsx)("input",{type:"checkbox",checked:"daily"===n.frequency||n.frequency.split(",").includes(e),onChange:()=>(e=>{let t="daily"===n.frequency?[]:n.frequency.split(",");t.includes(e)?t=t.filter(t=>t!==e):t.push(e),7===t.length?(r("frequency","daily"),k("daily")):r("frequency",t.join(","))})(e)}),e]},e)),(0,f.jsx)("button",{type:"button",className:h,onClick:()=>{r("frequency","daily"),k("daily")},children:"All"})]}),"monthly"===b&&(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{children:"Day of Month"}),(0,f.jsx)("input",{type:"number",min:1,max:31,step:1,value:parseInt(n.frequency),onChange:e=>{return t=parseInt(e.target.value),r("frequency","".concat(t," monthly"));var t}})]}),"date"===b&&(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{children:"Specific Date"}),(0,f.jsx)("input",{style:{color:"blue",fontWeight:"bold"},type:"date",min:A,value:/^\d{4}-\d{2}-\d{2}$/.test(n.frequency)?n.frequency:d,onChange:e=>{var t;t=e.target.value,r("frequency",t),j(e.target.value)}})]})]}),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)("label",{children:"Repeat Interval (hours)"}),(0,f.jsx)("input",{type:"number",min:1,max:12,step:1,value:parseInt(n.repeat)||"",onChange:e=>{const t=parseInt(e.target.value);r("repeat",1===t?"1 hour":"".concat(t," hours"))},placeholder:"No Repeat"})]}),(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("button",{type:"submit",className:x,children:i?"Update Reminder":"Add Reminder"}),(0,f.jsx)("button",{type:"button",onClick:t,className:v,children:"Cancel"})]})]})})}var k=a(8387);const q={cont:"AlertsPage_cont__Bn-of",leftSideCont:"AlertsPage_leftSideCont__uvpyK",rightSideCont:"AlertsPage_rightSideCont__HCF89",title:"AlertsPage_title__vqj0-",rightSideTitle:"AlertsPage_rightSideTitle__uQTtz",headerBox:"AlertsPage_headerBox__3iOMH",addBtn:"AlertsPage_addBtn__b3wO3",main:"AlertsPage_main__KHw-R",calendarBox:"AlertsPage_calendarBox__iSP3z",calendar:"AlertsPage_calendar__vOV+q","rbc-today":"AlertsPage_rbc-today__P2l6q","rbc-time-slot":"AlertsPage_rbc-time-slot__k-Hoo","rbc-event":"AlertsPage_rbc-event__7F-kq",remindersList:"AlertsPage_remindersList__BaT+d",reminderItem:"AlertsPage_reminderItem__bQ515",reminderItemDetailsCont:"AlertsPage_reminderItemDetailsCont__cSW7q",actions:"AlertsPage_actions__ExvCf",link:"AlertsPage_link__VK0R7",stopBtn:"AlertsPage_stopBtn__J2o1J",goBtn:"AlertsPage_goBtn__SGJ0k",startBtn:"AlertsPage_startBtn__+8rI4",doneBtn:"AlertsPage_doneBtn__SHS9V",editBtn:"AlertsPage_editBtn__a6MAw",doneLabel:"AlertsPage_doneLabel__G7cIv"},N=(0,i.ye)(d());const S=function(){const[e,t]=(0,l.useState)([]),[a,s]=(0,l.useState)([{id:1,text:"Take breakfast",time:"06:00",frequency:"daily",repeat:"noRepeat",end:"10:00",type:"meal",active:!1,done:!1},{id:2,text:"Take lunch",time:"12:00",frequency:"daily",repeat:"noRepeat",end:"14:00",type:"meal",active:!1,done:!1},{id:3,text:"Take dinner",time:"17:00",frequency:"daily",repeat:"noRepeat",end:"19:00",type:"meal",active:!1,done:!1},{id:4,text:"Go to sleep",time:"20:00",frequency:"daily",repeat:"noRepeat",end:"00:00",type:"sleep",active:!1,done:!1},{id:5,text:"Wake up",time:"06:00",frequency:"daily",repeat:"noRepeat",end:"07:00",type:"sleep",active:!1,done:!1},{id:6,text:"Do physical activities",time:"09:00",frequency:"Mo,We,Fri",repeat:"noRepeat",end:"23:00",type:"alert",active:!1,done:!1},{id:7,text:"Record Breakfast meal",time:"10:00",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"meal",active:!1,done:!1,link:"/diary"},{id:8,text:"Record Lunch meal",time:"13:00",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"meal",active:!1,done:!1,link:"/diary"},{id:9,text:"Record Dinner meal",time:"19:00",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"meal",active:!1,done:!1,link:"/diary"},{id:10,text:"Record Sleep period",time:"19:00",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"sleep",active:!1,done:!1,link:"/sleep"},{id:11,text:"Record Health metrics",time:"08:00",frequency:"15 monthly",repeat:"noRepeat",end:"23:00",type:"alert",active:!1,done:!1,link:"/metrix"},{id:12,text:"Record Exercise period",time:"18:00",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"exercise",active:!1,done:!1,link:"/physical"},{id:13,text:"Drink water",time:"06:00",frequency:"daily",repeat:"2 hours",end:"23:00",type:"alert",active:!1,done:!1}]),[d,c]=(0,l.useState)(!1),[o,u]=(0,l.useState)(null),[m,p]=(0,l.useState)({text:"",time:"",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"alert",active:!1,done:!1});return(0,l.useEffect)(()=>{console.log("events :",e),console.log("editId :",o),console.log("formData :",m)},[e,o,m]),(0,l.useEffect)(()=>{const e=a.filter(e=>e.active).flatMap(e=>function(e){if(!e.active)return[];if(e.done)return[];const[t,a]=e.time.split(":").map(Number),[n,l]=e.end?e.end.split(":").map(Number):[t+1,a],r=new Date,i=[];switch(e.frequency){case"daily":{const s=new Date(r);s.setHours(t,a,0,0);const d=new Date(r);d.setHours(n,l,0,0),i.push({id:e.id,title:e.text,start:s,end:d})}break;case"weekly":{const s={Mo:1,Tu:2,We:3,Th:4,Fr:5,Sa:6,Su:0};e.frequency.split(",").forEach(d=>{const c=new Date(r);c.setDate(r.getDate()+(7+s[d]-r.getDay())%7),c.setHours(t,a,0,0);const o=new Date(c);o.setHours(n,l,0,0),i.push({id:"".concat(e.id,"-").concat(d),title:e.text,start:c,end:o})})}break;default:if(e.frequency.includes("monthly")){const s=parseInt(e.frequency),d=new Date(r.getFullYear(),r.getMonth(),s,t,a),c=new Date(r.getFullYear(),r.getMonth(),s,n,l);i.push({id:e.id,title:e.text,start:d,end:c})}else if(/^\d{4}-\d{2}-\d{2}$/.test(e.frequency)){const[r,s,d]=e.frequency.split("-").map(Number),c=new Date(r,s-1,d,t,a),o=new Date(r,s-1,d,n,l);i.push({id:e.id,title:e.text,start:c,end:o})}}return i}(e));t(e)},[a]),(0,f.jsxs)("div",{className:q.cont,children:[d&&(0,f.jsx)(b,{onClose:function(){c(!1),p({text:"",time:"",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"alert",active:!1,done:!1}),u(null)},handleSubmit:e=>{e.preventDefault(),m.text&&m.time?(s(e=>m.id?e.map(e=>e.id===m.id?(0,n.A)({},m):e):[...e,(0,n.A)((0,n.A)({},m),{},{id:Date.now()})]),p({text:"",time:"",frequency:"daily",repeat:"noRepeat",end:"23:00",type:"alert",active:!1,done:!1}),u(null),c(!1)):alert("Please enter a reminder text and time.")},data:m,handleSet:(e,t)=>{p(a=>(0,n.A)((0,n.A)({},a),{},{[e]:t}))},editId:o}),(0,f.jsxs)("div",{className:q.leftSideCont,children:[(0,f.jsxs)("div",{className:q.headerBox,children:[(0,f.jsx)("h1",{className:q.title,children:"Calendar"}),(0,f.jsx)("button",{onClick:()=>{c(!0)},className:q.addBtn,children:"+ Add Reminder"})]}),(0,f.jsx)("div",{className:q.calendarBox,children:(0,f.jsx)(i.Vv,{localizer:N,events:e,startAccessor:"start",endAccessor:"end",className:q.calendar,defaultView:"week",defaultDate:new Date,min:new Date})})]}),(0,f.jsxs)("div",{className:q.rightSideCont,children:[(0,f.jsx)("h1",{className:(0,k.A)(q.title,q.rightSideTitle),children:"Reminders"}),(0,f.jsx)("ul",{className:q.remindersList,children:a.map(e=>(0,f.jsxs)("li",{className:q.reminderItem,children:[(0,f.jsxs)("div",{className:q.reminderItemDetailsCont,children:[(0,f.jsxs)("span",{className:q.text,children:[e.text," :"]}),(0,f.jsxs)("div",{className:q.timeCont,children:[(0,f.jsx)("span",{className:q.time,children:e.time}),"/",(0,f.jsx)("span",{className:q.repeat,children:e.frequency}),"noRepeat"!==e.repeat&&(0,f.jsxs)("span",{className:q.repeat,children:["/",e.repeat]})]})]}),(0,f.jsxs)("div",{className:q.actions,children:[e.active?(0,f.jsx)("button",{className:q.stopBtn,onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?(0,n.A)((0,n.A)({},e),{},{active:!1}):e));var t},children:"Stop"}):(0,f.jsx)("button",{className:q.startBtn,onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?(0,n.A)((0,n.A)({},e),{},{active:!0}):e));var t},children:"Start"}),e.link&&e.active&&!e.done&&(0,f.jsx)(r.N_,{className:q.link,to:e.link,children:(0,f.jsx)("button",{className:q.goBtn,onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?(0,n.A)((0,n.A)({},e),{},{done:!0}):e));var t},children:"Go"})}),e.active&&!e.done&&(0,f.jsx)("button",{className:q.doneBtn,onClick:()=>{return t=e.id,void s(e=>e.map(e=>e.id===t?(0,n.A)((0,n.A)({},e),{},{done:!0}):e));var t},children:"Done"}),e.active&&e.done&&(0,f.jsx)("span",{className:q.doneLabel,children:"\u2713 Done"}),(0,f.jsx)("button",{className:q.editBtn,onClick:()=>{c(!0),p((0,n.A)({},e)),u(e.id)},children:"Edit"})]})]},"alerts-".concat(e.id)))})]})]})}}}]);
//# sourceMappingURL=521.5105ef1b.chunk.js.map