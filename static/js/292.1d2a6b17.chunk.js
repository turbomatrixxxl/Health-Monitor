"use strict";(self.webpackChunkhealth_monitor=self.webpackChunkhealth_monitor||[]).push([[292],{5292:(e,t,i)=>{i.r(t),i.d(t,{default:()=>T});var n=i(9379),s=i(5043),a=i(3216),c=i(9095),l=i(8266),o=i(2952);function r(e,t,i,n,s,a){if(!e)return"please input your exercise type";if(!i||!n||!s)return 0;const c=Number(t)||0;let l=.0175*({football:8,tennis:7.3,basketball:6.5,gym:5,fitness:6,cycling:6,running:9.8,jogging:7,swimming:8,hockey:7,rugby:8,volley:5,yoga:3,walking:3.5,dancing:5.5,skiing:7,snowboarding:6.8,surfing:5,boxing:7.8,climbing:8}[e.toLowerCase()]||4)*n;"min"===a?l*=.8:"max"===a&&(l*=1.2);const o=l*c*(i<30?1.1:i<50?1:.9);return Math.round(25*o)}var d=i(9283),v=i(8387),h=i(3538);const m="ActivitySelect_selector__ZJWTA",g="ActivitySelect_button__GMBQU",p="ActivitySelect_span__kC5Bd",y="ActivitySelect_spanDark__-UfcE",u="ActivitySelect_svg__fg-DH",_="ActivitySelect_svgDark__RiTlv",x="ActivitySelect_options__tQAam",A="ActivitySelect_optionsDark__zrVLA",f="ActivitySelect_optionsViolet__3fpmK",P="ActivitySelect_option__fHjzJ",j="ActivitySelect_optionDark__PpHpC",S="ActivitySelect_activeOption__p+L7e",N="ActivitySelect_activeOptionViolet__vg8ap";var C=i(579);const b=["football","tennis","basketball","gym","fitness","cycling","running","jogging","swimming","hockey","rugby","volley","yoga","walking","dancing","skiing","snowboarding","surfing","boxing","climbing","other"];const k=function(e){let{theme:t,value:i,onChange:n}=e;const[a,c]=(0,s.useState)(!1),l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,C.jsxs)("div",{className:m,ref:l,children:[(0,C.jsxs)("button",{className:g,onClick:()=>c(e=>!e),children:[(0,C.jsx)("span",{className:(0,v.A)(p,"dark"===t||"violet"===t?y:p),children:i.charAt(0).toUpperCase()+i.slice(1)}),a?(0,C.jsx)(h.gNC,{className:(0,v.A)(u,"dark"===t||"violet"===t?_:u)}):(0,C.jsx)(h.bv7,{className:(0,v.A)(u,"dark"===t||"violet"===t?_:u)})]}),a&&(0,C.jsx)("ul",{className:(0,v.A)(x,"dark"===t?A:x,"violet"===t?f:x),children:b.map(e=>(0,C.jsx)("li",{className:(0,v.A)(P,"dark"===t?j:P,e===i&&("violet"===t?N:S)),onClick:()=>(n(e),void c(!1)),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})},w={cont:"PsyhicalActivityPage_cont__ekuRl",leftSideCont:"PsyhicalActivityPage_leftSideCont__jrCmT",rightSideCont:"PsyhicalActivityPage_rightSideCont__8zjDj",rightSideUpCont:"PsyhicalActivityPage_rightSideUpCont__rw3Zv",title:"PsyhicalActivityPage_title__4rJnJ",graphCont:"PsyhicalActivityPage_graphCont__xeaV6",rightSideContTitle:"PsyhicalActivityPage_rightSideContTitle__hIexH",rightSideDate:"PsyhicalActivityPage_rightSideDate__DxwxO",dateWrapper:"PsyhicalActivityPage_dateWrapper__G+IhJ",paramInput:"PsyhicalActivityPage_paramInput__1LpJm",fromToCont:"PsyhicalActivityPage_fromToCont__XYjNb",fromToTitle:"PsyhicalActivityPage_fromToTitle__lQxpq",fromExercise:"PsyhicalActivityPage_fromExercise__NMQmA",from:"PsyhicalActivityPage_from__ngOis",rem:"PsyhicalActivityPage_rem__prLsZ",lineRowCont:"PsyhicalActivityPage_lineRowCont__AvVL4",lineRow:"PsyhicalActivityPage_lineRow__xs+87",activitySelect:"PsyhicalActivityPage_activitySelect__dy5Y+",minutes:"PsyhicalActivityPage_minutes__BwmUC",minMax:"PsyhicalActivityPage_minMax__g65Li",timeInput:"PsyhicalActivityPage_timeInput__hrNzA",removeBtn:"PsyhicalActivityPage_removeBtn__3kjpN",dash:"PsyhicalActivityPage_dash__ZotMg",twoDots:"PsyhicalActivityPage_twoDots__5hAHi",ampmSelect:"PsyhicalActivityPage_ampmSelect__gdw+x",addSleepCont:"PsyhicalActivityPage_addSleepCont__ADZwY",addBtn:"PsyhicalActivityPage_addBtn__dPfpi",saveBtn:"PsyhicalActivityPage_saveBtn__u+nWb",adviceCont:"PsyhicalActivityPage_adviceCont__D7BTL",navBtn:"PsyhicalActivityPage_navBtn__hUp5q"};const T=function(){var e,t,i,h;const m=(0,a.Zp)(),{user:g,privateDispatch:p}=(0,c.d)(),y=null!==(e=null===g||void 0===g?void 0:g.age)&&void 0!==e?e:0,u=null!==(t=null===g||void 0===g?void 0:g.height)&&void 0!==t?t:0,_=null!==(i=null===g||void 0===g?void 0:g.weight)&&void 0!==i?i:0,x=null!==(h=null===g||void 0===g?void 0:g.desiredWeight)&&void 0!==h?h:0,A=(0,s.useMemo)(()=>(null===g||void 0===g?void 0:g.steps)||[],[null===g||void 0===g?void 0:g.steps]),f=function(e,t,i,n){if(!e||!t||!i||!n)return 0;const s=t/100;let a=30;a*=e<30?1:e<50?1.1:1.2;const c=i/(s*s)-n/(s*s);let l=1;c>.5?l=1+Math.min(c/5,1):c<-.5&&(l=.8);const o=a*l;return Math.round(o)}(y,u,_,x),[P,j]=(0,s.useState)((new Date).toISOString().split("T")[0]),S=(0,s.useMemo)(()=>new Date,[]),N="".concat(S.getFullYear(),"-").concat(String(S.getMonth()+1).padStart(2,"0"),"-").concat(String(S.getDate()).padStart(2,"0")),b=P===N,T=(0,s.useMemo)(()=>A.length>0?[...A]:[{date:S,interval:[{exerciseType:"walking",minutes:"00",intensity:"min",steps:0}]}],[A,S]),D=A.find(e=>new Date(e.date).toISOString().split("T")[0]===P),[M,B]=(0,s.useState)([{date:S,interval:[{exerciseType:"walking",minutes:"00",intensity:"min",steps:0}]}]);(0,s.useEffect)(()=>{if(D){const e=[...D.interval];B(e)}},[D]),(0,s.useEffect)(()=>{const e=T.find(e=>new Date(e.date).toISOString().split("T")[0]===P);if(e){const t=[...e.interval];B(t)}else B([{exerciseType:"walking",minutes:"00",intensity:"min",steps:0}])},[P,T,S,A]);const I=M.reduce((e,t)=>e+(Number(t.steps)||0),0);(0,s.useEffect)(()=>{p((0,l._D)(I))},[p,I]);const W=M[M.length-1],E=0===Number(String(W.minutes).trim()),R=(e,t,i)=>{const s=M.map((s,a)=>a===e?(0,n.A)((0,n.A)({},s),{},{[t]:i,steps:r("exerciseType"===t?i:s.exerciseType,"minutes"===t?Math.max(0,parseInt(i,10)||0):parseInt(s.minutes,10)||0,y,_,u,"intensity"===t?i:s.intensity)}):(0,n.A)({},s));B(s)};return(0,C.jsxs)("div",{className:w.cont,children:[(0,C.jsxs)("div",{className:w.leftSideCont,children:[(0,C.jsxs)("div",{className:w.rightSideUpCont,children:[(0,C.jsx)("h1",{className:w.title,children:"Physical Activity"}),(0,C.jsx)("div",{className:w.graphCont,children:"Graphic container"})]}),(0,C.jsxs)("div",{className:w.adviceCont,children:[(0,C.jsx)("h2",{className:w.adviceTitle,children:"Total sleep hours"}),0!==I?(0,C.jsxs)("p",{style:{fontSize:"clamp(11px, 1.5vw, 12px)",color:I<.6*I?"red":void 0},className:w.advicep,children:[(0,C.jsxs)("span",{style:{marginRight:"2px"},children:["Converted Activities in ",I," steps for"," "]})," ",(0,C.jsx)("span",{children:b?"today":(0,d.A)(P)})]}):(0,C.jsxs)("p",{style:{color:"red"},className:w.advicep,children:["No Physical Activities records for"," ",b?"today":(0,d.A)(P)]})]})]}),(0,C.jsxs)("div",{className:w.rightSideCont,children:[(0,C.jsxs)("div",{className:w.rightSideUpCont,children:[(0,C.jsx)("h1",{className:w.title,children:"Add exercise activities"}),(0,C.jsxs)("div",{className:w.rightSideDate,children:[(0,C.jsx)("div",{className:w.dateWrapper,children:(0,C.jsx)("input",{max:N,type:"date",value:null!==P&&void 0!==P?P:N,onChange:e=>j(e.target.value),className:w.paramInput})}),(0,C.jsx)("p",{className:w.rightSideDateP,children:"Choose date"})]}),(0,C.jsxs)("div",{className:w.fromToCont,children:[(0,C.jsxs)("div",{className:w.fromToTitle,children:[(0,C.jsx)("p",{className:w.fromExercise,children:"Exercise Type"}),(0,C.jsx)("p",{className:w.from,children:"Minutes"}),(0,C.jsx)("p",{className:w.from,children:"Intensity"}),(0,C.jsx)("p",{className:w.rem,children:M.length>1?"Delete":"Reset"})]}),(0,C.jsx)("div",{className:w.lineRowCont,children:M.map((e,t)=>{var i,n;return(0,C.jsxs)("div",{className:w.lineRow,children:[(0,C.jsx)(k,{value:null!==(i=null===e||void 0===e?void 0:e.exerciseType)&&void 0!==i?i:"walking",onChange:e=>R(t,"exerciseType",e),theme:"light"}),(0,C.jsx)("div",{className:w.minutes,children:(0,C.jsx)("input",{type:"number",min:"0",step:"1",value:(n=null===e||void 0===e?void 0:e.minutes,String(n).replace(/^0+(?=\d)/,"")),onChange:e=>R(t,"minutes",e.target.value.replace(/^0+(?=\d)/,"")||"0"),className:(0,v.A)(w.timeInput)})}),(0,C.jsx)("div",{className:w.minMax,children:(0,C.jsxs)("select",{style:"min"===(null===e||void 0===e?void 0:e.intensity)?{color:"green",fontWeight:"bold"}:{color:"var(--brand-color)",fontWeight:"bold"},value:null===e||void 0===e?void 0:e.intensity,onChange:e=>R(t,"intensity",e.target.value),className:w.ampmSelect,children:[(0,C.jsx)("option",{style:{color:"green",fontWeight:"bold"},value:"min",children:"Min"}),(0,C.jsx)("option",{style:{color:"var(--brand-color)",fontWeight:"bold"},value:"max",children:"Max"})]})}),M.length>1?(0,C.jsx)("button",{type:"button",onClick:()=>(e=>{const t=M.filter((t,i)=>i!==e);B(t)})(t),className:w.removeBtn,children:"\u2715"}):(0,C.jsx)("button",{type:"button",onClick:()=>{B([{exerciseType:"walking",date:P,minutes:"00",intensity:"min",steps:0}])},className:w.removeBtn,children:"\u2715"})]},"physical-".concat(t))})})]}),(0,C.jsxs)("div",{className:w.addSleepCont,children:[(0,C.jsx)("p",{children:"Add exercise"}),(0,C.jsx)("button",{onClick:()=>{!E&&(()=>{const e=[...M]||[];e.push({exerciseType:"walking",minutes:"00",intensity:"min",steps:0}),B(e)})()},type:"button",className:w.addBtn,children:"Add +"}),(1===M.length&&!E||M.length>1)&&(0,C.jsx)("button",{onClick:function(){const e=M.length-1,t=E?M.filter((t,i)=>i!==e):[...M];p((0,o.I4)({date:P,interval:t}))},type:"button",className:w.saveBtn,children:"Save"})]})]}),(0,C.jsxs)("div",{className:w.adviceCont,children:[(0,C.jsx)("h2",{className:w.adviceTitle,children:"Suggestions"}),0!==f?(0,C.jsxs)("p",{className:w.advicep,children:["Try to get at least ",f," minutes of activity everyday."]}):(0,C.jsxs)("p",{style:{color:"red",background:"var(--Gray5)",textAlign:"left",flexWrap:"wrap",gap:"3px",justifyContent:"flex-start",height:"fit-content"},className:w.advicep,children:["Personal info missing. Please click",(0,C.jsx)("button",{className:w.navBtn,onClick:()=>m("/"),type:"button",children:"Diet Calculator"})," ","to update !"]})]})]})]})}},9283:(e,t,i)=>{function n(e){const[t,i,n]=e.split("-").map(Number),s=["Su","Mo","Tu","We","Th","Fr","Sa"][new Date(t,i-1,n).getDay()],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i-1];return"".concat(s,"-").concat(String(n).padStart(2,"0"),"-").concat(a,"-").concat(t)}i.d(t,{A:()=>n})}}]);
//# sourceMappingURL=292.1d2a6b17.chunk.js.map